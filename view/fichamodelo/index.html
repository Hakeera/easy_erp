<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Ficha Técnica - Gerenciamento</title>
  <script src="https://unpkg.com/htmx.org@1.9.5"></script>
</head>
<body>

  <h1>Gerenciamento de Fichas Técnicas</h1>

  <!-- Formulário para criar nova ficha -->
  <form hx-post="/fichamodelo/create" hx-swap="none">
    <label>Modelo: <input type="text" name="modelo"></label><br>
    <label>Linha: <input type="text" name="linhas"></label><br>
    <label>Categoria: <input type="text" name="categoria"></label><br>
    <label>Descrição: <input type="text" name="descricao"></label><br>
    <label>Instruções: <textarea name="instrucoes"></textarea></label><br>
    <label>Custo Corte: <input type="number" step="0.01" name="custoCorte"></label><br>
    <label>Custo Costura: <input type="number" step="0.01" name="custoCostura"></label><br>
    <label>Custo Acabamento: <input type="number" step="0.01" name="custoAcabamento"></label><br>

    <!-- Pares de grade e dimensão -->
    <h3>Pares de Grade e Dimensão</h3>
    <div id="grade-dimensao-container">
      <div class="par">
        <input type="text" name="grades_grade" placeholder="Grade">
        <input type="number" step="0.01" name="grades_dimensao" placeholder="Dimensão">
      </div>
    </div>
    <button type="button" onclick="adicionarPar()">Adicionar Par</button><br><br>

    <button type="submit">Salvar Ficha Técnica</button>
  </form>

  <hr>

  <!-- Botão para carregar fichas -->
  <button hx-get="/fichamodelo/list" hx-target="#lista-fichas" hx-swap="innerHTML">Ver Fichas Técnicas</button>

  <!-- Área onde as fichas serão listadas -->
  <div id="lista-fichas"></div>

  <script>
    function adicionarPar() {
      const container = document.getElementById('grade-dimensao-container');
      const novoPar = document.createElement('div');
      novoPar.classList.add('par');
      novoPar.innerHTML = `
        <input type="text" name="grades_grade" placeholder="Grade">
        <input type="number" step="0.01" name="grades_dimensao" placeholder="Dimensão">
      `;
      container.appendChild(novoPar);
    }
  </script>

</body>
</html>

