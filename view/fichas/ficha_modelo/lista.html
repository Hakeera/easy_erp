{{ define "fichamodelo_lista" }}
    <h1>Listagem de Fichas Técnicas</h1>
    <!-- Tabela com as fichas -->
    <table border="1" cellpadding="5" cellspacing="0">
        <thead>
            <tr>
                <th>ID</th>
                <th>Modelo</th>
                <th>Categoria</th>
                <th>Linhas</th>
                <th>Descrição</th>
                <th>Corte</th>
                <th>Costura</th>
                <th>Acabamento</th>
                <th>Dimensões</th>
            </tr>
        </thead>
        <tbody>
            {{range .}}
            <tr class="ficha-row" data-id="{{.ID}}" onclick="selecionarFicha(this)">
                <td>{{.ID}}</td>
                <td>{{.Modelo}}</td>
                <td>{{.Categoria}}</td>
                <td>{{.Linhas}}</td>
                <td>{{.Descricao}}</td>
                <td>{{.CustoCorte}}</td>
                <td>{{.CustoCostura}}</td>
                <td>{{.CustoAcabamento}}</td>
                <td>
                    {{range .ParesGradeDimensao}}
                        <div>{{.Grade}}: {{.Dimensao}}</div>
                    {{end}}
                </td>
            </tr>
            {{end}}
        </tbody>
    </table>
    <hr>
    <!-- Exibe o ID da ficha selecionada -->
    <h2>Ficha Selecionada:</h2>
    <div id="fichaSelecionada">
        <p>Nenhuma ficha selecionada</p>
    </div>
    <script>
        function selecionarFicha(row) {
            // Remover a classe 'selected' de todas as linhas
            const rows = document.querySelectorAll('.ficha-row');
            rows.forEach(r => r.classList.remove('selected'));
            // Adicionar a classe 'selected' na linha clicada
            row.classList.add('selected');
            // Exibir o ID da ficha selecionada
            const fichaId = row.getAttribute('data-id');
            document.getElementById('fichaSelecionada').innerHTML = `<p>Ficha selecionada: ${fichaId}</p>`;
        }
    </script>
{{ end }}
